##############################################################################
#
# ALPS/looper: multi-cluster quantum Monte Carlo algorithms for spin systems
# 
# Copyright (C) 1997-2003 by Synge Todo <wistaria@comp-phys.org>
# 
# This software is published under the ALPS Application License; you can use,
# redistribute and/or modify this software under the terms of the license,
# either version 1 or (at your option) any later version.
# 
# You should have received a copy of the ALPS Application License along with
# the ALPS Library; see the file LICENSE. If not, the license is also
# available from http://alps.comp-phys.org/.
# 
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
# FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT 
# SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE 
# FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE, 
# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
# DEALINGS IN THE SOFTWARE.
#
##############################################################################

# $Id: Makefile.in 567 2003-11-13 09:52:09Z wistaria $
# Makefile for test programs

srcdir = @srcdir@
top_srcdir = @top_srcdir@
builddir = @builddir@l
top_builddir = ./@top_builddir@

include @INCLUDE_MK@

LAPACK_CPPFLAGS = @LAPACK_CPPFLAGS@
LAPACK_LDFLAGS = @LAPACK_LDFLAGS@
LAPACK_LIBS = @LAPACK_LIBS@

cppflags = $(CPPFLAGS) $(LAPACK_CPPFLAGS) -I$(top_srcdir)
cppflags_mpi = $(CPPFLAGS_MPI) $(LAPACK_CPPFLAGS) -I$(top_srcdir)
cxxflags = $(CXXFLAGS)
ldflags = $(LDFLAGS) $(LAPACK_LDFLAGS)
ldflags_mpi = $(LDFLAGS_MPI) $(LAPACK_LDFLAGS)
libs_program = -lalps -lcomm-sgl $(LAPACK_LIBS) $(HDF5_LIBS) $(XML_LIBS) $(BASE_LIBS)
libs_program_mpi = -lalps -lcomm-mpi $(LAPACK_LIBS) $(HDF5_LIBS) $(XML_LIBS) $(MPI_LIBS) $(BASE_LIBS)

LOCAL_CONFIG = lattices.xml models.xml amida.xdr
TESTOK_LAPACK = syev.ok
TESTOK = amida.ok fill_duration.ok hypercubic.ok index_helper.ok permutation.ok random_choice.ok union_find.ok virtual_graph.ok weight.ok xxz_matrix.ok xxz_model.ok @TESTOK_LAPACK@

default: tests

include $(RULES_MK)
include $(srcdir)/Makefile.dep

# dependency for tests

amida.ok : $(srcdir)/amida.op
fill_duration.ok : $(srcdir)/fill_duration.ip $(srcdir)/fill_duration.op
hypercubic.ok : $(srcdir)/hypercubic.ip $(srcdir)/hypercubic.op
index_helper.ok : $(srcdir)/index_helper.op
permutation.ok :  $(srcdir)/permutation.op
random_choice.ok :  $(srcdir)/random_choice.op
syev.ok :  $(srcdir)/syev.op
union_find.ok :  $(srcdir)/union_find.op
virtual_graph.ok :  $(srcdir)/virtual_graph.op
weight.ok : $(srcdir)/weight.ip $(srcdir)/weight.op
xxz_model.ok : $(srcdir)/xxz_model.ip $(srcdir)/xxz_model.op
xxz_matrix.ok : $(srcdir)/xxz_matrix.ip $(srcdir)/xxz_matrix.op
